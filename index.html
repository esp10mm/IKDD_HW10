<html>
  <title>Visual League</title>
  <meta charset="utf-8" />
  <link href="css/semantic.css" rel="stylesheet" type="text/css" />
  <link href="css/visual.css" rel="stylesheet" type="text/css" />

  <style>
    body{
      background-image: url("data/back.jpg");
    }

    .main.segment{
      width:1041px;
      margin: 0px auto;
    }

    .head.segment{
      background-image: url("data/header.jpg");
      height: 300px;
      text-align: left ;
    }

    .ui.title.header{
      font-size:75px;
    }

    .ui.large.header{
      font-size:40px;
    }


  </style>

</html>
<body>
  <br>
  <div class="ui basic main segment">
    <div class="ui head centered main segment">
      <h1 class="ui huge inverted title header">Visual</h1>
      <h1 class="ui huge inverted title header">League</h1>
    </div>
    <div class="ui main segment">

      <div class="ui top attached tabular menu">
        <a class="active item" data-tab="overview">Overview</a>
        <a class="unavailble item" data-tab="champs" data-content="Coming Soon!">Champs</a>
      </div>

      <div class="ui bottom attached active tab segment" data-tab="overview">
        <div class="ui huge horizontal statistic">
          <div class="match count value">
          </div>
          <div class="label">
            Matches Collected
          </div>
        </div>
        <br>

        <div class="ui styled fluid accordion">
          <div class="title">
            <i class="dropdown icon"></i>
            Matches Summary
          </div>
          <div class="match summary content">
            <div class="match duration">
              <h1 class="ui header">Matches Duration (num - min) :</h1>
              <div class="match duration chart"></div>
              <br>
              Base Time: &nbsp;
              <div class="ui selection match duration basetime dropdown">
                <input type="hidden" value=900>
                <div class="default text">Base Time</div>
                <i class="dropdown icon"></i>
                <div class="menu">
                  <div class="item" data-value=900>15 min</div>
                  <div class="item" data-value=1200>20 min</div>
                  <div class="item" data-value=1500>25 min</div>
                  <div class="item" data-value=1800>30 min</div>
                </div>
              </div>
              &nbsp; Interval &nbsp;
              <div class="ui selection match duration interval dropdown">
                <input type="hidden" value=300>
                <div class="default text">Interval</div>
                <i class="dropdown icon"></i>
                <div class="menu">
                  <div class="item" data-value=60>1 min</div>
                  <div class="item" data-value=300>5 min</div>
                  <div class="item" data-value=600>10 min</div>
                  <div class="item" data-value=900>15 min</div>
                </div>
              </div>
              <div class="ui match duration button">
                Set
              </div>
            </div>
            <br>
            <div class="summoner tier">
              <h1 class="ui header">Summoner Highest Achieved Tier :</h1>
              <div class="summoner tier chart"></div>
              <div class="summoner tier explain">
                <h2 class="ui tier header">Hover on Graph to See More Information</h2>
                <div class="ui tier images"></div>
                <div class="ui tier statistics" style="display:none">
                  <div class="horizontal statistic">
                    <div class="tier count value"></div>
                    <div class="label">
                      players
                    </div>
                  </div>
                  <div class="horizontal statistic">
                    <div class="tier percent value"></div>
                    <div class="label">
                      of all
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="active title">
            <i class="dropdown icon"></i>
            Champions Performance
          </div>
          <div class="active content">
            <h1 class="ui header">Champions Scatterplot :</h1>
            X Axis: &nbsp;
            <div class="ui selection scatterplotX dropdown">
              <input type="hidden" value="matchNum">
              <div class="default text">X Axis</div>
              <i class="dropdown icon"></i>
              <div class="menu">
                <div class="item" data-value="matchNum">Popularity</div>
                <div class="item" data-value="winrate">Win Rate</div>
                <div class="item" data-value="avgDamage">Average Damage</div>
                <div class="item" data-value="avgDamageTaken">Average Damage Taken</div>
                <div class="item" data-value="avgKDA">Average KDA</div>
              </div>
            </div>
            &nbsp; Y Axis: &nbsp;
            <div class="ui selection scatterplotY dropdown">
              <input type="hidden" value="winrate">
              <div class="default text">Y Axis</div>
              <i class="dropdown icon"></i>
              <div class="menu">
                <div class="item" data-value="matchNum">Popularity</div>
                <div class="item" data-value="winrate">Win Rate</div>
                <div class="item" data-value="avgDamage">Average Damage</div>
                <div class="item" data-value="avgDamageTaken">Average Damage Taken</div>
                <div class="item" data-value="avgKDA">Average KDA</div>
              </div>
            </div>
            &nbsp; Color By: &nbsp;
            <div class="ui selection scatterplotC dropdown">
              <input type="hidden" value="champIndex">
              <div class="default text">Color</div>
              <i class="dropdown icon"></i>
              <div class="menu">
                <div class="item" data-value="champIndex">Champion</div>
                <div class="item" data-value="mainRole">Main Role</div>
              </div>
            </div>
            <div class="ui scatterplot set button">
              Set
            </div>
            <br>
            <br>
            <div class="champions scatterplot">
              <div class="champions scatterplot chart"></div>
              <div class="champions scatterplot explain">
                <div class="champs name display">
                  <h2 class="ui header">Hover on Graph to See More Information</h2>
                </div>
                <div class="ui champion scatterplot images"></div>
                <br>
                <div class="champ role disp"></div>
                <div class="ui champion scatterplot statistics" style="display:none">
                  <div class="horizontal statistic">
                    <div class="scatterplotX show value"></div>
                    <div class="scatterplotX show label"></div>
                  </div>
                  <div class="horizontal statistic">
                    <div class="scatterplotY show value"></div>
                    <div class="scatterplotY show label"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="ui bottom attached tab segment" data-tab="champs">
        <div class="ui basic segment">
          <h1 class="ui large header">Click a Champion to View its Data :</h1>
          <div class="ui champs images"></div>
        </div>
      </div>

    </div>
  </div>

  <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="js/semantic.js" type="text/javascript"></script> 
  <script src="js/d3.min.js" type="text/javascript"></script> 
  <script src="js/visual.js" type="text/javascript"></script> 
  <script type="text/javascript">
    // $('.menu .item').tab();

    $('.ui.accordion')
    .accordion()
    ;

    $('.dropdown')
    .dropdown({
      transition: 'drop'
    });

    $('.unavailble.item').popup();

    var champsHTML = "";
    $.getJSON( "data/champion.json", function( data ){
      var champs = data.data;
      for(var k in champs){
        var html = '<img class="ui rounded image" src="/data/img/' + k + '_Square_0.png">';
        champsHTML += html;
      }
      $('.champs.images').html(champsHTML);
    });

    $.getJSON( "data.json", function( data ){

      champImgHTML = ""
      for(var k in data.champs){
        var html = '<img class="champ image ' + data.champs[k].name +'" src="/data/img/' + data.champs[k].name + '_Square_0.png" style="display:none">';
        champImgHTML += html;
      }
      $('.champion.scatterplot.images').html(champImgHTML);

      $('.match.count.value').text(data.overview.num);

      matchDuration(data.overview.duration, 900, 300);
      $('.match.duration.button').on('click', function(){
        durationReset(function(){
          $('.match.duration.chart').html('');
          matchDuration(data.overview.duration, $('.match.duration.basetime').dropdown('get value'), $('.match.duration.interval').dropdown('get value'));
        });
      })

      summonerTier(data.overview.tiers);

      scatterplotInit(data.champs, "matchNum", "winrate", "champIndex");
      $('.scatterplot.set.button').on('click', function(){
        argx = $('.scatterplotX.dropdown').dropdown('get value');
        argy = $('.scatterplotY.dropdown').dropdown('get value');
        argc = $('.scatterplotC.dropdown').dropdown('get value');
        scatterplotUpdate(data.champs, argx, argy, argc);
      })

    });


  </script>
</body>